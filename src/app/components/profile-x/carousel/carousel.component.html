<div class="carousel-container">
  <div 
    class="carousel-scene"
    [class.cursor-grabbing]="isDragging"
    (mousedown)="onMouseDown($event)"
    (touchstart)="onTouchStart($event)"
    (touchmove)="onTouchMove($event)"
    (touchend)="onTouchEnd()"
  >
    <div 
      class="carousel-cylinder"
      [ngStyle]="getCylinderStyle()"
    >
      <div
        *ngFor="let slide of slides; let i = index; trackBy: trackByIndex"
        class="carousel-item"
        [style.transform]="getItemTransform(i)"
        [style.opacity]="getItemOpacity(i)"
      >
        <div 
          class="carousel-image-wrapper"
          [style.transform]="'scale(' + getItemScale(i) + ')'"
        >
          <img 
            [src]="slide.image" 
            [alt]="'Slide ' + (i + 1)"
            class="carousel-image"
            draggable="false"
          />
          
          <!-- Mantener el overlay si quieres mantener el efecto visual -->
          <div class="carousel-overlay"></div>
          
          <div class="carousel-reflection"></div>
        </div>
      </div>
    </div>
    
    <!-- Subtle floor glow -->
    <div class="carousel-floor"></div>

    <!-- CONTROLES DENTRO DEL CARRUSEL -->
    <div class="carousel-controls">
      <button 
        (click)="handlePrev()"
        class="carousel-button"
        aria-label="Previous"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="m15 18-6-6 6-6"/>
        </svg>
      </button>
      <button 
        (click)="handleNext()"
        class="carousel-button"
        aria-label="Next"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="m9 18 6-6-6-6"/>
        </svg>
      </button>
    </div>

    <!-- INDICADORES DENTRO DEL CARRUSEL -->
    <div class="carousel-indicator">
      <button
        *ngFor="let slide of slides; let i = index; trackBy: trackByIndex"
        (click)="goToSlide(i)"
        [class.active]="isActiveSlide(i)"
        class="carousel-dot"
        [attr.aria-label]="'Go to slide ' + (i + 1)"
      ></button>
    </div>
  </div>
</div>