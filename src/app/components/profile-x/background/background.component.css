.animated-background {
  position: relative;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background: #000;
}

/* -------------------------------------------------- */
/*             CAPA PRINCIPAL MULTICOLOR SUAVE        */
/* -------------------------------------------------- */
.color-overlay {
  position: absolute;
  inset: 0;

  background: linear-gradient(
    145deg,
    #000000,
    #0a192f,
    #003049,
    #370617,
    #004b23,
    #78350f,
    #000000
  );

  /* Muy grande para suavizar transiciones */
  background-size: 900% 900%;

  animation: gradientFlow var(--speed, 20s) ease-in-out infinite;

  /* Blur profundo que “licúa” colores */
  filter: blur(35px);

  opacity: 0.9;
  z-index: 1;
}

/* -------------------------------------------------- */
/*   CAPA 2 — RADIALES QUE INTEGRAN COLOR SUAVEMENTE  */
/* -------------------------------------------------- */
.color-overlay-2 {
  position: absolute;
  inset: -10%;

  background:
    radial-gradient(circle at 20% 30%, rgba(0, 122, 255, 0.25), transparent 70%),
    radial-gradient(circle at 80% 60%, rgba(255, 60, 60, 0.22), transparent 70%),
    radial-gradient(circle at 50% 80%, rgba(60, 255, 120, 0.2), transparent 65%),
    radial-gradient(circle at 40% 20%, rgba(255, 180, 0, 0.23), transparent 70%);

  filter: blur(55px);
  animation: floatSoft 35s ease-in-out infinite alternate;

  z-index: 0;
}

/* -------------------------------------------------- */
/*       CAPA 3 — SWIRL MULTICOLOR DE PROFUNDIDAD     */
/* -------------------------------------------------- */
.color-overlay-3 {
  position: absolute;
  inset: -20%;

  background: conic-gradient(
    from 0deg,
    rgba(0, 122, 255, 0.10),
    rgba(255, 0, 90, 0.10),
    rgba(0, 255, 150, 0.10),
    rgba(255, 160, 0, 0.10),
    rgba(0, 122, 255, 0.10)
  );

  animation: swirlColor 50s linear infinite;
  filter: blur(60px);
  mix-blend-mode: screen;

  z-index: 2;
}

/* -------------------------------------------------- */
/*                    ANIMACIONES                     */
/* -------------------------------------------------- */
@keyframes gradientFlow {
  0%   { background-position: 0% 40%; }
  25%  { background-position: 60% 20%; }
  50%  { background-position: 100% 60%; }
  75%  { background-position: 40% 90%; }
  100% { background-position: 0% 40%; }
}

@keyframes floatSoft {
  0%   { transform: translate(0, 0) scale(1); }
  50%  { transform: translate(4%, -3%) scale(1.08); }
  100% { transform: translate(-3%, 5%) scale(0.97); }
}

@keyframes swirlColor {
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* -------------------------------------------------- */
/*         CAPA DE NOISE (ANTI-LINEAS SUAVE)          */
/* -------------------------------------------------- */
.animated-background::after {
  content: "";
  position: absolute;
  inset: 0;

  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P4//8/AwAI/AL+5CbcJwAAAABJRU5ErkJggg==");

  opacity: 0.06;
  mix-blend-mode: overlay;
  pointer-events: none;
  z-index: 10;
}

/* -------------------------------------------------- */
/*              EFECTO DE ESTRELLAS SUAVES            */
/* -------------------------------------------------- */
.animated-background::before {
  content: '';
  position: absolute;
  inset: 0;

  background:
    radial-gradient(circle, rgba(255,255,255,0.04) 0%, transparent 70%),
    radial-gradient(circle, rgba(255,255,255,0.02) 0%, transparent 80%);

  opacity: 0.25;
  animation: twinkle 7s ease-in-out infinite alternate;

  z-index: 3;
  pointer-events: none;
}

@keyframes twinkle {
  0%   { opacity: 0.12; transform: scale(1); }
  50%  { opacity: 0.32; transform: scale(1.03); }
  100% { opacity: 0.12; transform: scale(1); }
}

/* -------------------------------------------------- */
/*                      RESPONSIVE                    */
/* -------------------------------------------------- */
@media (max-width: 768px) {
  .color-overlay,
  .color-overlay-2,
  .color-overlay-3 {
    animation-duration: calc(var(--speed, 20s) * 1.7);
  }
}
